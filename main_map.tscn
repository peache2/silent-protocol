[gd_scene load_steps=25 format=3 uid="uid://dwemwfx7wx1k8"]

[ext_resource type="PackedScene" uid="uid://dqw8f5rjx5o66" path="res://meshes/character/player.tscn" id="1_dyl4d"]
[ext_resource type="Script" uid="uid://be21ont2ec7ug" path="res://meshes/character/models/character_anim.gd" id="2_km2bi"]
[ext_resource type="PackedScene" uid="uid://cubmvjmrni2gd" path="res://meshes/character/models/doors/doorwhite/Untitled.fbx" id="3_5hk42"]
[ext_resource type="AnimationLibrary" uid="uid://bkqpk2t4mafj6" path="res://meshes/character/Anims/Animations.res" id="3_ob7o4"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_dyl4d"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_km2bi"]
sky_material = SubResource("ProceduralSkyMaterial_dyl4d")

[sub_resource type="Environment" id="Environment_5hk42"]
background_mode = 2
background_energy_multiplier = 0.0
sky = SubResource("Sky_km2bi")
tonemap_mode = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_5hk42"]
size = Vector3(10, 0.1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_ob7o4"]
size = Vector3(0.465, 0.1, 0.65)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dyl4d"]
albedo_color = Color(0.2904646, 0.17589527, 0.050290637, 0)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1ns3a"]
animation = &"Animations/Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v4mvp"]
animation = &"Animations/Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qu338"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hio4h"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fnffn"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_286o7"]
states/Animations_Idle/node = SubResource("AnimationNodeAnimation_1ns3a")
states/Animations_Idle/position = Vector2(444, 100)
states/Animations_Walk/node = SubResource("AnimationNodeAnimation_v4mvp")
states/Animations_Walk/position = Vector2(667, 100)
transitions = ["Animations_Idle", "Animations_Walk", SubResource("AnimationNodeStateMachineTransition_qu338"), "Animations_Walk", "Animations_Idle", SubResource("AnimationNodeStateMachineTransition_hio4h"), "Start", "Animations_Idle", SubResource("AnimationNodeStateMachineTransition_fnffn")]

[sub_resource type="BoxMesh" id="BoxMesh_km2bi"]
size = Vector3(0.82, 1.765, 11.82)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_km2bi"]
albedo_color = Color(0.44291073, 0.4429108, 0.4429106, 1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5hk42"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ob7o4"]
animation = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1ns3a"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v4mvp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5hk42"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_qu338"]
states/Idle/node = SubResource("AnimationNodeAnimation_5hk42")
states/Idle/position = Vector2(397, 100)
states/Walk/node = SubResource("AnimationNodeAnimation_ob7o4")
states/Walk/position = Vector2(613, 100)
transitions = ["Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_1ns3a"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_v4mvp"), "Start", "Idle", SubResource("AnimationNodeStateMachineTransition_5hk42")]

[node name="MainMap" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5hk42")

[node name="Floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.37084818, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8526151, 0)
shape = SubResource("BoxShape3D_5hk42")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(15, 0, 0, 0, 1, 0, 0, 0, 15, 0.59353733, 0.8111197, 0.024286985)
mesh = SubResource("BoxMesh_ob7o4")
surface_material_override/0 = SubResource("StandardMaterial3D_dyl4d")

[node name="Player" parent="." instance=ExtResource("1_dyl4d")]
transform = Transform3D(-0.9999125, 0, 0.013229135, 0, 1, 0, -0.013229135, 0, -0.9999125, -0.39439172, 1.3365803, 3.4558716)

[node name="Mesh" parent="Player" index="1"]
script = ExtResource("2_km2bi")

[node name="Skeleton3D" parent="Player/Mesh/Node" index="0"]
bones/0/position = Vector3(-0.30841076, 93.66461, 0.9921169)
bones/0/rotation = Quaternion(-0.03534633, -0.044572573, -0.023003511, 0.9981156)
bones/1/rotation = Quaternion(-0.02561661, 0.013243359, 0.023024617, 0.9993189)
bones/2/rotation = Quaternion(0.009575479, 0.0023095363, 0.014574972, 0.9998453)
bones/3/rotation = Quaternion(0.008785718, 0.0022277504, 0.014427785, 0.9998549)
bones/4/rotation = Quaternion(0.09534994, -0.0019095512, 0.0050105182, 0.99542946)
bones/5/rotation = Quaternion(-0.06533646, 0.011223777, -0.0023745864, 0.9977974)
bones/6/rotation = Quaternion(-0.6744661, -0.3318679, 0.5169896, -0.40948877)
bones/7/rotation = Quaternion(0.4919122, 0.14235486, 0.057683595, 0.8569891)
bones/8/rotation = Quaternion(0.0013765398, -0.0021268283, 0.013733285, 0.9999025)
bones/9/rotation = Quaternion(0.0755088, -0.23782645, -0.025102364, 0.96804285)
bones/10/rotation = Quaternion(0.17281161, 0.07931315, 0.19032279, 0.9631318)
bones/11/rotation = Quaternion(-0.09720621, 0.0758218, -0.17267074, 0.97723436)
bones/12/rotation = Quaternion(-0.13265897, -0.069299236, 0.10100516, 0.98356354)
bones/13/rotation = Quaternion(0.05729616, 0.0033997237, 0.05846548, 0.99663806)
bones/14/rotation = Quaternion(0.15048182, -0.00013855657, -0.023616875, 0.9883306)
bones/15/rotation = Quaternion(0.069842845, 0.0001810173, -0.009652614, 0.9975113)
bones/16/rotation = Quaternion(0.12687886, 0.0019208733, 0.024766635, 0.9916072)
bones/17/rotation = Quaternion(0.1507407, 3.452785e-05, -0.025461698, 0.9882454)
bones/18/rotation = Quaternion(0.15939029, 0.0005705347, -0.017584441, 0.98705894)
bones/19/rotation = Quaternion(0.1734615, -0.002340417, 0.009136504, 0.9847956)
bones/20/rotation = Quaternion(0.18044926, 0.0007537678, -0.027116211, 0.9832102)
bones/21/rotation = Quaternion(0.15439843, -0.0008354188, -0.0142188715, 0.98790604)
bones/22/rotation = Quaternion(0.22340772, 0.00087096833, -0.009221735, 0.97468114)
bones/23/rotation = Quaternion(0.15047154, 0.00034291294, -0.024707653, 0.9883055)
bones/24/rotation = Quaternion(0.14274475, -0.00031808318, -0.013391831, 0.9896689)
bones/25/rotation = Quaternion(0.6749513, -0.32813045, 0.536468, 0.38597038)
bones/26/rotation = Quaternion(0.40808815, -0.23552522, -0.08543705, 0.877891)
bones/27/rotation = Quaternion(0.0058060917, 0.0021459614, -0.05761383, 0.99831986)
bones/28/rotation = Quaternion(0.068199925, 0.12997404, 0.050510123, 0.9878787)
bones/29/rotation = Quaternion(0.17686401, -0.071768984, -0.21474302, 0.9578381)
bones/30/rotation = Quaternion(-0.08984625, -0.06260947, 0.22740725, 0.96762276)
bones/31/rotation = Quaternion(-0.16576675, 0.06447702, -0.12297724, 0.97634053)
bones/32/rotation = Quaternion(0.053461038, -0.0037603118, -0.06465505, 0.99646753)
bones/33/rotation = Quaternion(0.15102291, 0.000121466815, 0.01865123, 0.9883544)
bones/34/rotation = Quaternion(0.07009363, -0.00017217241, 0.0076187146, 0.9975114)
bones/35/rotation = Quaternion(0.12405281, -0.0030124192, -0.034332644, 0.991677)
bones/36/rotation = Quaternion(0.15130362, 0.00012186916, 0.019950124, 0.9882861)
bones/37/rotation = Quaternion(0.15998523, -0.0005618601, 0.016717112, 0.98697776)
bones/38/rotation = Quaternion(0.17101924, 0.0020241498, -0.01939262, 0.9850748)
bones/39/rotation = Quaternion(0.18115398, -0.00054478267, 0.020839809, 0.98323375)
bones/40/rotation = Quaternion(0.1550085, 0.0005562009, 0.012571096, 0.98783296)
bones/41/rotation = Quaternion(0.22154787, -0.0047917166, -0.0044203247, 0.9751277)
bones/42/rotation = Quaternion(0.15118356, -0.00012817608, 0.021024968, 0.98828214)
bones/43/rotation = Quaternion(0.14342485, -0.00026044995, 0.009023395, 0.98962003)
bones/44/rotation = Quaternion(-0.08889375, -0.04361823, 0.99493647, -0.017232548)
bones/45/rotation = Quaternion(-0.04366534, 0.08597061, -0.008877895, 0.99530077)
bones/46/rotation = Quaternion(0.5054658, 0.017756986, -0.027242223, 0.8622337)
bones/47/rotation = Quaternion(0.3713123, 0.077409476, -0.023277102, 0.9249829)
bones/48/rotation = Quaternion(0.1324327, 0.051118895, 0.9866785, -0.079461895)
bones/49/rotation = Quaternion(-0.1024764, -0.016831193, 0.019794485, 0.9943961)
bones/50/rotation = Quaternion(0.46014732, -0.029091883, -0.013868956, 0.88725746)
bones/51/rotation = Quaternion(0.36626992, -0.07530085, 0.0242258, 0.9271404)

[node name="mixamorigHead" parent="Player/Mesh/Node/Skeleton3D" index="0"]
transform = Transform3D(0.997658, -0.062474273, -0.0278491, 0.06325253, 0.9976047, 0.027999386, 0.02603316, -0.029695332, 0.99921995, -1.4034731, 153.54506, -1.6285348)

[node name="mixamorigLeftHandThumb3" parent="Player/Mesh/Node/Skeleton3D" index="1"]
transform = Transform3D(0.28048688, 0.067916945, -0.95745206, -0.2713361, -0.9511986, -0.14696175, -0.9207085, 0.30101222, -0.24837038, 21.51385, 82.85686, 6.291385)

[node name="mixamorigLeftHandIndex3" parent="Player/Mesh/Node/Skeleton3D" index="2"]
transform = Transform3D(0.13012171, -0.527815, -0.83933294, -0.025030762, -0.848009, 0.5293903, -0.99118215, -0.04787597, -0.12355597, 23.045053, 76.20251, 5.38936)

[node name="mixamorigLeftHandMiddle3" parent="Player/Mesh/Node/Skeleton3D" index="3"]
transform = Transform3D(0.15006898, -0.7574676, -0.6353914, 0.052414984, -0.6356701, 0.7701792, -0.9872853, -0.148884, -0.055691704, 22.630556, 75.90956, 2.3492785)

[node name="mixamorigLeftHandRing3" parent="Player/Mesh/Node/Skeleton3D" index="4"]
transform = Transform3D(0.14982513, -0.8396509, -0.52205235, 0.07796763, -0.5163345, 0.8528304, -0.9856337, -0.16847853, -0.011894248, 22.805643, 77.228966, -0.08052775)

[node name="mixamorigLeftHandPinky3" parent="Player/Mesh/Node/Skeleton3D" index="5"]
transform = Transform3D(0.16277002, -0.845086, -0.50925, 0.10440946, -0.49848232, 0.86058927, -0.9811243, -0.1932486, 0.0070970207, 22.974272, 79.14952, -2.3623476)

[node name="mixamorigRightHandThumb3" parent="Player/Mesh/Node/Skeleton3D" index="6"]
transform = Transform3D(0.53121895, -0.03455721, 0.84652966, 0.25803432, -0.94510144, -0.20050421, 0.80698496, 0.3249452, -0.49313873, -20.419197, 80.21513, 4.586266)

[node name="mixamorigRightHandIndex3" parent="Player/Mesh/Node/Skeleton3D" index="7"]
transform = Transform3D(0.40440458, 0.49463192, 0.76928306, 0.05635972, -0.8530117, 0.5188399, 0.9128421, -0.16646464, -0.37283915, -22.125353, 73.35054, 4.327531)

[node name="mixamorigRightHandMiddle3" parent="Player/Mesh/Node/Skeleton3D" index="8"]
transform = Transform3D(0.42141378, 0.6891939, 0.5894253, -0.016291462, -0.6440986, 0.7647691, 0.90672207, -0.33188683, -0.26020408, -22.448631, 73.25525, 1.3857539)

[node name="mixamorigRightHandRing3" parent="Player/Mesh/Node/Skeleton3D" index="9"]
transform = Transform3D(0.41576806, 0.7649401, 0.49193886, -0.038916614, -0.5254476, 0.84993553, 0.90863764, -0.37252063, -0.18869555, -23.428852, 74.435486, -0.9481818)

[node name="mixamorigRightHandPinky3" parent="Player/Mesh/Node/Skeleton3D" index="10"]
transform = Transform3D(0.4298788, 0.764106, 0.4809848, -0.05850658, -0.50802493, 0.8593531, 0.90098906, -0.3975584, -0.17368393, -24.079517, 76.533646, -3.108696)

[node name="mixamorigRightToeBase" parent="Player/Mesh/Node/Skeleton3D" index="11"]
transform = Transform3D(-0.8375278, -0.5459341, 0.02242127, -0.07683647, 0.15830502, 0.98439604, -0.54096484, 0.82273644, -0.17453256, -16.07135, 1.4655857, 8.423702)

[node name="mixamorigLeftToeBase" parent="Player/Mesh/Node/Skeleton3D" index="12"]
transform = Transform3D(-0.93574256, 0.35221422, 0.018191107, 0.06523365, 0.122158736, 0.9903648, 0.3465982, 0.92791295, -0.13728532, 21.098597, 1.5369005, 19.34276)

[node name="AnimationPlayer" parent="Player/Mesh" index="1"]
libraries = {}

[node name="AnimationPlayer2" type="AnimationPlayer" parent="Player/Mesh" index="2"]
libraries = {
&"Animations": ExtResource("3_ob7o4")
}

[node name="AnimationTree" type="AnimationTree" parent="Player"]
root_node = NodePath("../Mesh")
tree_root = SubResource("AnimationNodeStateMachine_286o7")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Mesh/AnimationPlayer2")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.99078107, -0.13126893, 0.03348929, 0.08189399, 0.77726245, 0.6238241, -0.1079187, -0.61533046, 0.780847, 0, 2.7950294, -3.8068964)
shadow_enabled = true
directional_shadow_split_1 = 0.04

[node name="Wall1" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755347, 0, 0, 0, 1.6817756, 0, 0, 0, 0.69764066, 2.0474524, 1.8735204, 0)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_km2bi")

[node name="Wall" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755347, 0, 0, 0, 1.6817756, 0, 0, 0, 0.8378325, -2.770756, 1.8735204, 0)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_km2bi")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.0531364e-08, 0, 0.5914379, 0, 1.6367751, 0, -0.24092951, 0, -2.585257e-08, 0.67429256, 1.8735204, -1.1868036)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_km2bi")

[node name="Wall3" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.0820906e-08, 0, 0.5948301, 0, 1.6817756, 0, -0.24755347, 0, -2.600085e-08, -0.5172678, 1.8735204, 4.1958895)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_km2bi")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5357324, 2.980933, 1.4857969)
light_energy = 2.351
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 1.985
omni_range = 40.698

[node name="Floor2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.4861994, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7067168, 0)
shape = SubResource("BoxShape3D_5hk42")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor2"]
transform = Transform3D(15, 0, 0, 0, 1, 0, 0, 0, 15, 0.59353733, 0.8111197, 0.024286985)
mesh = SubResource("BoxMesh_ob7o4")
skeleton = NodePath("../../Floor2")
surface_material_override/0 = SubResource("StandardMaterial3D_dyl4d")

[node name="Untitled" parent="." instance=ExtResource("3_5hk42")]
transform = Transform3D(0.7851471, 0, 0, 0, 0.8063247, 0, 0, 0, 1, -0.32202443, 0.4997527, 4.048661)

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Player/Mesh")
tree_root = SubResource("AnimationNodeStateMachine_qu338")
advance_expression_base_node = NodePath("../Player")
anim_player = NodePath("../Player/Mesh/AnimationPlayer")

[editable path="Player"]
[editable path="Player/Mesh"]
