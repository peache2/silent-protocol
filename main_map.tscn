[gd_scene load_steps=37 format=3 uid="uid://dwemwfx7wx1k8"]

[ext_resource type="PackedScene" uid="uid://dqw8f5rjx5o66" path="res://meshes/character/player.tscn" id="1_dyl4d"]
[ext_resource type="Texture2D" uid="uid://bmqj3o2qit3u8" path="res://textures/wood_floor/wood_planks_diff_4k.png" id="1_hio4h"]
[ext_resource type="Texture2D" uid="uid://dgd2hjte26in2" path="res://textures/wood_floor/laminate_floor_02_nor_gl_4k.png" id="2_286o7"]
[ext_resource type="Script" uid="uid://be21ont2ec7ug" path="res://meshes/character/models/character_anim.gd" id="2_km2bi"]
[ext_resource type="Texture2D" uid="uid://ca4hrcki25yar" path="res://textures/wood_floor/laminate_floor_02_rough_4k.png" id="3_4ly05"]
[ext_resource type="PackedScene" uid="uid://cubmvjmrni2gd" path="res://meshes/character/models/doors/doorwhite/Untitled.fbx" id="3_5hk42"]
[ext_resource type="AnimationLibrary" uid="uid://bkqpk2t4mafj6" path="res://meshes/character/Anims/Animations.res" id="3_ob7o4"]
[ext_resource type="Texture2D" uid="uid://c5h45ijvrxl07" path="res://textures/wall_plaster/plastered_wall_diff_4k.png" id="7_286o7"]
[ext_resource type="Texture2D" uid="uid://cp0dse817jsn3" path="res://textures/wall_plaster/plastered_wall_nor_gl_4k.png" id="8_4ly05"]
[ext_resource type="Texture2D" uid="uid://coj6qorbt54is" path="res://textures/wall_plaster/plastered_wall_rough_4k.png" id="9_t3ofs"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_dyl4d"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_km2bi"]
sky_material = SubResource("ProceduralSkyMaterial_dyl4d")

[sub_resource type="Environment" id="Environment_5hk42"]
background_mode = 2
background_energy_multiplier = 0.0
sky = SubResource("Sky_km2bi")
tonemap_mode = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_5hk42"]
size = Vector3(10, 0.1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_ob7o4"]
size = Vector3(0.465, 0.1, 0.65)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_286o7"]
albedo_texture = ExtResource("1_hio4h")
roughness_texture = ExtResource("3_4ly05")
normal_enabled = true
normal_texture = ExtResource("2_286o7")
uv1_scale = Vector3(10, 10, 10)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1ns3a"]
animation = &"Animations/Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v4mvp"]
animation = &"Animations/Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qu338"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hio4h"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fnffn"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_286o7"]
states/Animations_Idle/node = SubResource("AnimationNodeAnimation_1ns3a")
states/Animations_Idle/position = Vector2(444, 100)
states/Animations_Walk/node = SubResource("AnimationNodeAnimation_v4mvp")
states/Animations_Walk/position = Vector2(667, 100)
transitions = ["Animations_Idle", "Animations_Walk", SubResource("AnimationNodeStateMachineTransition_qu338"), "Animations_Walk", "Animations_Idle", SubResource("AnimationNodeStateMachineTransition_hio4h"), "Start", "Animations_Idle", SubResource("AnimationNodeStateMachineTransition_fnffn")]

[sub_resource type="BoxMesh" id="BoxMesh_km2bi"]
size = Vector3(0.82, 1.765, 11.82)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t3ofs"]
albedo_texture = ExtResource("7_286o7")
roughness_texture = ExtResource("9_t3ofs")
normal_enabled = true
normal_texture = ExtResource("8_4ly05")
uv1_scale = Vector3(20, 20, 20)

[sub_resource type="BoxShape3D" id="BoxShape3D_286o7"]
size = Vector3(1, 1.7, 8.98)

[sub_resource type="BoxShape3D" id="BoxShape3D_i4yi8"]
size = Vector3(1, 1.705, 11.83)

[sub_resource type="BoxShape3D" id="BoxShape3D_t3ofs"]
size = Vector3(1, 1.645, 10.635)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dyl4d"]
vertex_color_use_as_albedo = true
albedo_color = Color(0.73300546, 0.7330054, 0.7330054, 0)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5hk42"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ob7o4"]
animation = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1ns3a"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v4mvp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5hk42"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_qu338"]
states/Idle/node = SubResource("AnimationNodeAnimation_5hk42")
states/Idle/position = Vector2(397, 100)
states/Walk/node = SubResource("AnimationNodeAnimation_ob7o4")
states/Walk/position = Vector2(613, 100)
transitions = ["Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_1ns3a"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_v4mvp"), "Start", "Idle", SubResource("AnimationNodeStateMachineTransition_5hk42")]

[sub_resource type="BoxShape3D" id="BoxShape3D_dt6kx"]
size = Vector3(1, 1.655, 12.44)

[sub_resource type="BoxShape3D" id="BoxShape3D_4ly05"]
size = Vector3(1, 1.66, 11.835)

[node name="MainMap" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5hk42")

[node name="Floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.37084818, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8526151, 0)
shape = SubResource("BoxShape3D_5hk42")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(15, 0, 0, 0, 1, 0, 0, 0, 15, 0.59353733, 0.8111197, 0.024286985)
mesh = SubResource("BoxMesh_ob7o4")
surface_material_override/0 = SubResource("StandardMaterial3D_286o7")

[node name="Player" parent="." instance=ExtResource("1_dyl4d")]
transform = Transform3D(-0.9999125, 0, 0.013229135, 0, 1, 0, -0.013229135, 0, -0.9999125, -0.39439172, 1.3365803, 1.9879863)

[node name="Mesh" parent="Player" index="1"]
script = ExtResource("2_km2bi")

[node name="Skeleton3D" parent="Player/Mesh/Node" index="0"]
bones/0/position = Vector3(0.052728653, 93.61967, 0.50357056)
bones/0/rotation = Quaternion(-0.029012728, -0.050857652, -0.02854352, 0.9978763)
bones/1/rotation = Quaternion(-0.021276645, 0.010758074, 0.02047381, 0.9995061)
bones/2/rotation = Quaternion(0.010241732, 0.0019928925, 0.013919454, 0.9998487)
bones/3/rotation = Quaternion(0.010146186, 0.0022512062, 0.014053641, 0.9998473)
bones/4/rotation = Quaternion(0.09879644, -0.0013970708, 0.004378105, 0.9950971)
bones/5/rotation = Quaternion(-0.06719942, 0.011183589, -0.0015370873, 0.9976757)
bones/6/rotation = Quaternion(-0.6790834, -0.32591006, 0.5153397, -0.40872163)
bones/7/rotation = Quaternion(0.48257276, 0.14425857, 0.05965592, 0.86183196)
bones/8/rotation = Quaternion(0.001287304, -0.00212691, 0.012842411, 0.99991447)
bones/9/rotation = Quaternion(0.07139555, -0.24488002, -0.023892557, 0.966626)
bones/25/rotation = Quaternion(0.6763318, -0.32655907, 0.5350077, 0.38691247)
bones/26/rotation = Quaternion(0.41096166, -0.2327619, -0.085665196, 0.87726504)
bones/27/rotation = Quaternion(0.0058312546, 0.002145879, -0.057862055, 0.99830526)
bones/28/rotation = Quaternion(0.07289189, 0.12995195, 0.049059734, 0.9876196)
bones/44/rotation = Quaternion(-0.08528627, -0.037816707, 0.99538684, -0.022388695)
bones/45/rotation = Quaternion(-0.035545867, 0.08628093, -0.007902606, 0.99560523)
bones/46/rotation = Quaternion(0.49765345, 0.014771104, -0.026959045, 0.8668311)
bones/47/rotation = Quaternion(0.3733678, 0.07754804, -0.023231113, 0.9241445)
bones/48/rotation = Quaternion(0.13456692, 0.066083774, 0.98509604, -0.08432393)
bones/49/rotation = Quaternion(-0.11631067, -0.01984453, 0.019037824, 0.9928321)
bones/50/rotation = Quaternion(0.4643809, -0.028501188, -0.012452456, 0.8850894)

[node name="mixamorigHead" parent="Player/Mesh/Node/Skeleton3D" index="0"]
transform = Transform3D(0.9978211, -0.047139134, -0.046162188, 0.047169108, 0.9988869, -0.0004401803, 0.046131544, -0.0017381608, 0.99893385, -0.1545906, 153.50659, -0.76922417)

[node name="mixamorigLeftHandThumb3" parent="Player/Mesh/Node/Skeleton3D" index="1"]
transform = Transform3D(0.30179465, 0.06201589, -0.9513537, -0.2600675, -0.9546818, -0.14473309, -0.9172158, 0.2910958, -0.27198964, 21.940805, 82.248764, 6.496117)

[node name="mixamorigLeftHandIndex3" parent="Player/Mesh/Node/Skeleton3D" index="2"]
transform = Transform3D(0.15282135, -0.5256764, -0.8368452, -0.013054628, -0.8477917, 0.5301688, -0.9881676, -0.07009646, -0.13642323, 23.49936, 75.6069, 5.5499306)

[node name="mixamorigLeftHandMiddle3" parent="Player/Mesh/Node/Skeleton3D" index="3"]
transform = Transform3D(0.17259166, -0.7531806, -0.6347684, 0.06435463, -0.63443977, 0.77028877, -0.98288894, -0.17379576, -0.061028343, 23.154926, 75.35006, 2.4978626)

[node name="mixamorigLeftHandRing3" parent="Player/Mesh/Node/Skeleton3D" index="4"]
transform = Transform3D(0.17228279, -0.83502066, -0.5225506, 0.08988546, -0.51494294, 0.8524989, -0.98093796, -0.19384065, -0.013659578, 23.38423, 76.698616, 0.088656485)

[node name="mixamorigLeftHandPinky3" parent="Player/Mesh/Node/Skeleton3D" index="5"]
transform = Transform3D(0.18509284, -0.83990574, -0.51019496, 0.11628162, -0.49679965, 0.86003995, -0.9758172, -0.21851356, 0.0057115443, 23.603043, 78.64651, -2.1655734)

[node name="mixamorigRightHandThumb3" parent="Player/Mesh/Node/Skeleton3D" index="6"]
transform = Transform3D(0.5158887, -0.039108038, 0.8557626, 0.23793288, -0.9531117, -0.1869924, 0.82294995, 0.3000812, -0.48239437, -19.897987, 80.419174, 3.31811)

[node name="mixamorigRightHandIndex3" parent="Player/Mesh/Node/Skeleton3D" index="7"]
transform = Transform3D(0.38745168, 0.4988957, 0.7752319, 0.033494398, -0.84797865, 0.5289713, 0.9212812, -0.17898485, -0.34526083, -21.588749, 73.56164, 2.8532476)

[node name="mixamorigRightHandMiddle3" parent="Player/Mesh/Node/Skeleton3D" index="8"]
transform = Transform3D(0.40468, 0.6961542, 0.59296167, -0.038959496, -0.63471544, 0.7717633, 0.9136279, -0.33541858, -0.22973484, -21.857695, 73.541016, -0.09546167)

[node name="mixamorigRightHandRing3" parent="Player/Mesh/Node/Skeleton3D" index="9"]
transform = Transform3D(0.39903402, 0.7724565, 0.49404758, -0.061631963, -0.51498914, 0.85497844, 0.91486233, -0.37161452, -0.15789011, -22.796574, 74.779335, -2.4162607)

[node name="mixamorigRightHandPinky3" parent="Player/Mesh/Node/Skeleton3D" index="10"]
transform = Transform3D(0.41331264, 0.77205724, 0.48280498, -0.081005976, -0.4969347, 0.8639989, 0.9069789, -0.39621162, -0.14284813, -23.410524, 76.93121, -4.534274)

[node name="mixamorigRightToeBase" parent="Player/Mesh/Node/Skeleton3D" index="11"]
transform = Transform3D(-0.83707255, -0.54655606, 0.0242133, -0.07699762, 0.16151163, 0.9838624, -0.5416466, 0.82169974, -0.17728046, -16.054092, 1.4487257, 8.329908)

[node name="mixamorigLeftToeBase" parent="Player/Mesh/Node/Skeleton3D" index="12"]
transform = Transform3D(-0.935725, 0.35216224, 0.02001784, 0.066640705, 0.12077063, 0.9904413, 0.34637833, 0.92811424, -0.13647637, 21.067953, 1.4886703, 19.237461)

[node name="AnimationPlayer" parent="Player/Mesh" index="1"]
libraries = {}

[node name="AnimationPlayer2" type="AnimationPlayer" parent="Player/Mesh" index="2"]
libraries = {
&"Animations": ExtResource("3_ob7o4")
}

[node name="SpotLight3D" type="SpotLight3D" parent="Player/Camera3D" index="0"]
transform = Transform3D(1, 5.0081467e-15, 0, -5.6499944e-15, 1, 1.110223e-16, 0, -5.551115e-17, 1, 0.08632034, -0.18887687, -0.001142025)
light_energy = 1.696
light_volumetric_fog_energy = 14.495
spot_range = 3.698
spot_attenuation = 1.1
spot_angle = 30.0

[node name="AnimationTree" type="AnimationTree" parent="Player"]
root_node = NodePath("../Mesh")
tree_root = SubResource("AnimationNodeStateMachine_286o7")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Mesh/AnimationPlayer2")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.99078107, -0.13126893, 0.03348929, 0.08189399, 0.77726245, 0.6238241, -0.1079187, -0.61533046, 0.780847, 0, 2.7950294, -3.8068964)
shadow_enabled = true
directional_shadow_split_1 = 0.04

[node name="Wall" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755347, 0, 0, 0, 1.6817756, 0, 0, 0, 0.8378325, -2.770756, 1.8735204, 0)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall/StaticBody3D"]
transform = Transform3D(0.9999999, 0, 0, 0, 0.9999999, 0, 0, 0, 1, 0, 0, -1.4622799)
shape = SubResource("BoxShape3D_286o7")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.0531364e-08, 0, 0.15545513, 0, 1.6367751, 0, -0.24092951, 0, -6.795159e-09, -0.2882185, 1.8735204, -1.1868036)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall2/StaticBody3D"]
shape = SubResource("BoxShape3D_i4yi8")

[node name="Wall3" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.0820906e-08, 0, 0.29861674, 0, 1.6817756, 0, -0.24755347, 0, -1.3052951e-08, -1.0798008, 1.8735204, 2.665892)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall3/StaticBody3D"]
shape = SubResource("BoxShape3D_t3ofs")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.9043561, 2.980933, 0.83567345)
light_energy = 0.5
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 1.985
shadow_enabled = true
distance_fade_enabled = true
omni_range = 40.698

[node name="Floor2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.4861994, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7067168, 0)
shape = SubResource("BoxShape3D_5hk42")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor2"]
transform = Transform3D(15, 0, 0, 0, 1, 0, 0, 0, 15, 0.59353733, 0.8111197, 0.024286985)
mesh = SubResource("BoxMesh_ob7o4")
skeleton = NodePath("../../Floor2")
surface_material_override/0 = SubResource("StandardMaterial3D_dyl4d")

[node name="Untitled" parent="." instance=ExtResource("3_5hk42")]
transform = Transform3D(0.7851471, 0, 0, 0, 0.8063247, 0, 0, 0, 1, -0.41202256, 0.4997527, 2.5355995)

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Player/Mesh")
tree_root = SubResource("AnimationNodeStateMachine_qu338")
advance_expression_base_node = NodePath("../Player")
anim_player = NodePath("../Player/Mesh/AnimationPlayer")

[node name="Wall4" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755347, 0, 0, 0, 1.6817756, 0, 0, 0, 0.5758779, -1.0992452, 1.8735204, -4.6725845)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall4/StaticBody3D"]
shape = SubResource("BoxShape3D_dt6kx")

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.8885391, 2.980933, -2.429471)
light_energy = 0.3
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 1.985
shadow_enabled = true
distance_fade_enabled = true
omni_range = 40.698

[node name="Wall1" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755345, 0, 0, 0, 1.6817755, 0, 0, 0, 0.32342407, 0.64753103, 1.8735204, 0.81002176)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall1/StaticBody3D"]
shape = SubResource("BoxShape3D_4ly05")

[editable path="Player"]
[editable path="Player/Mesh"]
