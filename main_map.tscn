[gd_scene load_steps=37 format=3 uid="uid://dwemwfx7wx1k8"]

[ext_resource type="PackedScene" uid="uid://dqw8f5rjx5o66" path="res://meshes/character/player.tscn" id="1_dyl4d"]
[ext_resource type="Texture2D" uid="uid://bmqj3o2qit3u8" path="res://textures/wood_floor/wood_planks_diff_4k.png" id="1_hio4h"]
[ext_resource type="Texture2D" uid="uid://dgd2hjte26in2" path="res://textures/wood_floor/laminate_floor_02_nor_gl_4k.png" id="2_286o7"]
[ext_resource type="Script" uid="uid://be21ont2ec7ug" path="res://meshes/character/models/character_anim.gd" id="2_km2bi"]
[ext_resource type="Texture2D" uid="uid://ca4hrcki25yar" path="res://textures/wood_floor/laminate_floor_02_rough_4k.png" id="3_4ly05"]
[ext_resource type="PackedScene" uid="uid://cubmvjmrni2gd" path="res://meshes/character/models/doors/doorwhite/Untitled.fbx" id="3_5hk42"]
[ext_resource type="AnimationLibrary" uid="uid://bkqpk2t4mafj6" path="res://meshes/character/Anims/Animations.res" id="3_ob7o4"]
[ext_resource type="Texture2D" uid="uid://c5h45ijvrxl07" path="res://textures/wall_plaster/plastered_wall_diff_4k.png" id="7_286o7"]
[ext_resource type="Texture2D" uid="uid://cp0dse817jsn3" path="res://textures/wall_plaster/plastered_wall_nor_gl_4k.png" id="8_4ly05"]
[ext_resource type="Texture2D" uid="uid://coj6qorbt54is" path="res://textures/wall_plaster/plastered_wall_rough_4k.png" id="9_t3ofs"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_dyl4d"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_km2bi"]
sky_material = SubResource("ProceduralSkyMaterial_dyl4d")

[sub_resource type="Environment" id="Environment_5hk42"]
background_mode = 2
background_energy_multiplier = 0.0
sky = SubResource("Sky_km2bi")
tonemap_mode = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_5hk42"]
size = Vector3(10, 0.1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_ob7o4"]
size = Vector3(0.465, 0.1, 0.65)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_286o7"]
albedo_texture = ExtResource("1_hio4h")
roughness_texture = ExtResource("3_4ly05")
normal_enabled = true
normal_texture = ExtResource("2_286o7")
uv1_scale = Vector3(10, 10, 10)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1ns3a"]
animation = &"Animations/Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v4mvp"]
animation = &"Animations/Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qu338"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hio4h"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fnffn"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_286o7"]
states/Animations_Idle/node = SubResource("AnimationNodeAnimation_1ns3a")
states/Animations_Idle/position = Vector2(444, 100)
states/Animations_Walk/node = SubResource("AnimationNodeAnimation_v4mvp")
states/Animations_Walk/position = Vector2(667, 100)
transitions = ["Animations_Idle", "Animations_Walk", SubResource("AnimationNodeStateMachineTransition_qu338"), "Animations_Walk", "Animations_Idle", SubResource("AnimationNodeStateMachineTransition_hio4h"), "Start", "Animations_Idle", SubResource("AnimationNodeStateMachineTransition_fnffn")]

[sub_resource type="BoxMesh" id="BoxMesh_km2bi"]
size = Vector3(0.82, 1.765, 11.82)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t3ofs"]
albedo_texture = ExtResource("7_286o7")
roughness_texture = ExtResource("9_t3ofs")
normal_enabled = true
normal_texture = ExtResource("8_4ly05")
uv1_scale = Vector3(20, 20, 20)

[sub_resource type="BoxShape3D" id="BoxShape3D_286o7"]
size = Vector3(1, 1.7, 8.98)

[sub_resource type="BoxShape3D" id="BoxShape3D_i4yi8"]
size = Vector3(1, 1.705, 11.83)

[sub_resource type="BoxShape3D" id="BoxShape3D_t3ofs"]
size = Vector3(1, 1.645, 10.635)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dyl4d"]
vertex_color_use_as_albedo = true
albedo_color = Color(1, 1, 1, 0)
albedo_texture = ExtResource("7_286o7")
roughness_texture = ExtResource("9_t3ofs")
normal_enabled = true
normal_texture = ExtResource("8_4ly05")
uv1_scale = Vector3(50, 50, 50)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5hk42"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ob7o4"]
animation = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1ns3a"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() > .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_v4mvp"]
xfade_time = 0.2
advance_mode = 2
advance_expression = "velocity.length() <= .2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5hk42"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_qu338"]
states/Idle/node = SubResource("AnimationNodeAnimation_5hk42")
states/Idle/position = Vector2(397, 100)
states/Walk/node = SubResource("AnimationNodeAnimation_ob7o4")
states/Walk/position = Vector2(613, 100)
transitions = ["Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_1ns3a"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_v4mvp"), "Start", "Idle", SubResource("AnimationNodeStateMachineTransition_5hk42")]

[sub_resource type="BoxShape3D" id="BoxShape3D_dt6kx"]
size = Vector3(1, 1.655, 12.44)

[sub_resource type="BoxShape3D" id="BoxShape3D_4ly05"]
size = Vector3(1, 1.66, 11.835)

[node name="MainMap" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5hk42")

[node name="Floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.37084818, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8526151, 0)
shape = SubResource("BoxShape3D_5hk42")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(15, 0, 0, 0, 1, 0, 0, 0, 15, 0.59353733, 0.8111197, 0.024286985)
mesh = SubResource("BoxMesh_ob7o4")
surface_material_override/0 = SubResource("StandardMaterial3D_286o7")

[node name="Player" parent="." instance=ExtResource("1_dyl4d")]
transform = Transform3D(-0.9999125, 0, 0.013229135, 0, 1, 0, -0.013229135, 0, -0.9999125, -0.39439172, 1.3365803, 1.9879863)

[node name="Mesh" parent="Player" index="1"]
script = ExtResource("2_km2bi")

[node name="Skeleton3D" parent="Player/Mesh/Node" index="0"]
bones/0/position = Vector3(-0.12715495, 93.62942, 0.807981)
bones/0/rotation = Quaternion(-0.030661155, -0.049076684, -0.027018927, 0.99795866)
bones/1/rotation = Quaternion(-0.02014787, 0.014165665, 0.021977777, 0.9994551)
bones/2/rotation = Quaternion(0.010372456, 0.0024741776, 0.014027106, 0.9998448)
bones/3/rotation = Quaternion(0.010387621, 0.0027903507, 0.014236271, 0.9998409)
bones/4/rotation = Quaternion(0.099403374, -0.0020133245, 0.0041423053, 0.9950366)
bones/5/rotation = Quaternion(-0.07135986, 0.008800899, -0.0012731134, 0.997411)
bones/6/rotation = Quaternion(-0.6783298, -0.32672134, 0.5166939, -0.40761408)
bones/7/rotation = Quaternion(0.48301348, 0.13831946, 0.06203638, 0.8623904)
bones/8/rotation = Quaternion(0.001302153, -0.0021268951, 0.012990734, 0.9999125)
bones/9/rotation = Quaternion(0.0691919, -0.2442143, -0.021926932, 0.9670011)
bones/25/rotation = Quaternion(0.678306, -0.32383254, 0.53513366, 0.3855716)
bones/26/rotation = Quaternion(0.41264054, -0.2308559, -0.08293326, 0.87724316)
bones/27/rotation = Quaternion(0.0058116075, 0.0021459088, -0.057667356, 0.99831665)
bones/28/rotation = Quaternion(0.07121832, 0.13224015, 0.049499664, 0.987416)
bones/44/rotation = Quaternion(-0.08610197, -0.041350044, 0.99519753, -0.021415383)
bones/45/rotation = Quaternion(-0.035970274, 0.086006835, -0.008260104, 0.9956108)
bones/46/rotation = Quaternion(0.50015604, 0.014968114, -0.026673624, 0.86539495)
bones/47/rotation = Quaternion(0.3731435, 0.07753294, -0.023236148, 0.92423636)
bones/48/rotation = Quaternion(0.1358068, 0.06182286, 0.9852579, -0.08367433)
bones/49/rotation = Quaternion(-0.11393451, -0.016989553, 0.018862315, 0.9931639)
bones/50/rotation = Quaternion(0.46393648, -0.028666833, -0.012755216, 0.8853127)

[node name="mixamorigHead" parent="Player/Mesh/Node/Skeleton3D" index="0"]
transform = Transform3D(0.9978357, -0.05238705, -0.039741717, 0.05268571, 0.99859, 0.0065045506, 0.039344903, -0.008584291, 0.9991889, -0.6423321, 153.50015, -0.5153935)

[node name="mixamorigLeftHandThumb3" parent="Player/Mesh/Node/Skeleton3D" index="1"]
transform = Transform3D(0.282516, 0.070794344, -0.9566467, -0.27294946, -0.9501171, -0.15091822, -0.91961074, 0.30375308, -0.24909991, 21.718582, 82.42655, 6.98015)

[node name="mixamorigLeftHandIndex3" parent="Player/Mesh/Node/Skeleton3D" index="2"]
transform = Transform3D(0.1313977, -0.52486575, -0.840982, -0.027355982, -0.849934, 0.5261787, -0.99095243, -0.0461327, -0.12603751, 23.273525, 75.774956, 6.0985723)

[node name="mixamorigLeftHandMiddle3" parent="Player/Mesh/Node/Skeleton3D" index="3"]
transform = Transform3D(0.15107639, -0.7551187, -0.63794345, 0.050167914, -0.6386622, 0.76785016, -0.9872486, -0.14800823, -0.058604002, 22.863682, 75.472115, 3.05883)

[node name="mixamorigLeftHandRing3" parent="Player/Mesh/Node/Skeleton3D" index="4"]
transform = Transform3D(0.15074348, -0.83768445, -0.5249394, 0.07572409, -0.5196625, 0.85100925, -0.9856687, -0.16803455, -0.014902826, 23.037193, 76.78531, 0.6255522)

[node name="mixamorigLeftHandPinky3" parent="Player/Mesh/Node/Skeleton3D" index="5"]
transform = Transform3D(0.16359283, -0.8431503, -0.5121862, 0.10222239, -0.5018983, 0.8588648, -0.98121786, -0.19286095, 0.004081931, 23.202024, 78.70006, -1.6614294)

[node name="mixamorigRightHandThumb3" parent="Player/Mesh/Node/Skeleton3D" index="6"]
transform = Transform3D(0.51768094, -0.02751568, 0.85513115, 0.24178988, -0.9540351, -0.17707342, 0.8206974, 0.29842952, -0.4872328, -19.451597, 80.18783, 3.7240458)

[node name="mixamorigRightHandIndex3" parent="Player/Mesh/Node/Skeleton3D" index="7"]
transform = Transform3D(0.39191723, 0.5068275, 0.7678065, 0.03582703, -0.84234685, 0.53774387, 0.91930264, -0.183243, -0.34828842, -21.072657, 73.313774, 3.2547224)

[node name="mixamorigRightHandMiddle3" parent="Player/Mesh/Node/Skeleton3D" index="8"]
transform = Transform3D(0.40986526, 0.70100963, 0.583606, -0.03642715, -0.62672657, 0.77838755, 0.91141844, -0.34029323, -0.2313377, -21.35687, 73.2959, 0.3074271)

[node name="mixamorigRightHandRing3" parent="Player/Mesh/Node/Skeleton3D" index="9"]
transform = Transform3D(0.4044643, 0.77585876, 0.48420236, -0.059160016, -0.5061364, 0.86042213, 0.9126384, -0.37665558, -0.15881422, -22.320892, 74.528656, -2.006012)

[node name="mixamorigRightHandPinky3" parent="Player/Mesh/Node/Skeleton3D" index="10"]
transform = Transform3D(0.41890398, 0.7751404, 0.47294486, -0.07836792, -0.48804086, 0.8692956, 0.9046425, -0.40121517, -0.14369613, -22.968544, 76.67795, -4.1165953)

[node name="mixamorigRightToeBase" parent="Player/Mesh/Node/Skeleton3D" index="11"]
transform = Transform3D(-0.83846205, -0.544446, 0.023663625, -0.07710865, 0.16151133, 0.98385394, -0.5394772, 0.8230993, -0.17740265, -16.042982, 1.4555159, 8.370428)

[node name="mixamorigLeftToeBase" parent="Player/Mesh/Node/Skeleton3D" index="12"]
transform = Transform3D(-0.9357346, 0.35218656, 0.019108005, 0.06518791, 0.11944902, 0.990698, 0.3466281, 0.9282762, -0.13473085, 21.06102, 1.4814205, 19.250523)

[node name="AnimationPlayer" parent="Player/Mesh" index="1"]
libraries = {}

[node name="AnimationPlayer2" type="AnimationPlayer" parent="Player/Mesh" index="2"]
libraries = {
&"Animations": ExtResource("3_ob7o4")
}

[node name="SpotLight3D" type="SpotLight3D" parent="Player/Camera3D" index="0"]
transform = Transform3D(1, 5.0081467e-15, 0, -5.6499944e-15, 1, 1.110223e-16, 0, -5.551115e-17, 1, 0.08632034, -0.18887687, -0.001142025)
light_energy = 1.696
light_volumetric_fog_energy = 14.495
spot_range = 3.698
spot_attenuation = 1.1
spot_angle = 30.0

[node name="AnimationTree" type="AnimationTree" parent="Player"]
root_node = NodePath("../Mesh")
tree_root = SubResource("AnimationNodeStateMachine_286o7")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../Mesh/AnimationPlayer2")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.99078107, -0.13126893, 0.03348929, 0.08189399, 0.77726245, 0.6238241, -0.1079187, -0.61533046, 0.780847, 0, 2.7950294, -3.8068964)
shadow_enabled = true
directional_shadow_split_1 = 0.04

[node name="Wall" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755347, 0, 0, 0, 1.6817756, 0, 0, 0, 0.8378325, -2.770756, 1.8735204, 0)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall/StaticBody3D"]
transform = Transform3D(0.9999999, 0, 0, 0, 0.9999999, 0, 0, 0, 1, 0, 0, -1.4622799)
shape = SubResource("BoxShape3D_286o7")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.0531364e-08, 0, 0.15545513, 0, 1.6367751, 0, -0.24092951, 0, -6.795159e-09, -0.2882185, 1.8735204, -1.1868036)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall2/StaticBody3D"]
shape = SubResource("BoxShape3D_i4yi8")

[node name="Wall3" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.0820906e-08, 0, 0.29861674, 0, 1.6817756, 0, -0.24755347, 0, -1.3052951e-08, -1.0798008, 1.8735204, 2.665892)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall3/StaticBody3D"]
shape = SubResource("BoxShape3D_t3ofs")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.0487767, 2.980933, 0.83567345)
light_energy = 0.5
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 1.985
shadow_enabled = true
distance_fade_enabled = true
omni_range = 10.0
omni_attenuation = 0.5

[node name="Floor2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.4861994, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7067168, 0)
shape = SubResource("BoxShape3D_5hk42")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor2"]
transform = Transform3D(15, 0, 0, 0, 1, 0, 0, 0, 15, 0.59353733, 0.8111197, 0.024286985)
mesh = SubResource("BoxMesh_ob7o4")
skeleton = NodePath("../../Floor2")
surface_material_override/0 = SubResource("StandardMaterial3D_dyl4d")

[node name="Untitled" parent="." instance=ExtResource("3_5hk42")]
transform = Transform3D(0.7851471, 0, 0, 0, 0.8063247, 0, 0, 0, 1, -0.41202256, 0.4997527, 2.5355995)

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Player/Mesh")
tree_root = SubResource("AnimationNodeStateMachine_qu338")
advance_expression_base_node = NodePath("../Player")
anim_player = NodePath("../Player/Mesh/AnimationPlayer")

[node name="Wall4" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755347, 0, 0, 0, 1.6817756, 0, 0, 0, 0.5758779, -1.0992452, 1.8735204, -4.6725845)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall4/StaticBody3D"]
shape = SubResource("BoxShape3D_dt6kx")

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.9968064, 2.980933, -2.429471)
light_energy = 0.3
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 1.985
shadow_enabled = true
distance_fade_enabled = true
omni_range = 10.0
omni_attenuation = 0.5

[node name="Wall1" type="MeshInstance3D" parent="."]
transform = Transform3D(0.24755345, 0, 0, 0, 1.6817755, 0, 0, 0, 0.32342407, 0.64753103, 1.8735204, 0.81002176)
mesh = SubResource("BoxMesh_km2bi")
surface_material_override/0 = SubResource("StandardMaterial3D_t3ofs")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall1/StaticBody3D"]
shape = SubResource("BoxShape3D_4ly05")

[editable path="Player"]
[editable path="Player/Mesh"]
